<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="google-site-verification"
      content="U-GWwZOKUY-FqRJYQu4ealLEaLnFK4WTKgDI7SCbS3E"
    />
    <title data-lang-key="title">
      æ—¥æœ¬ã®æ‰‹å–ã‚Šè¨ˆç®—æ©Ÿ | æ—¥æœ¬ã®ç¨é‡‘è¨ˆç®— | æ—¥æœ¬ã®çµ¦ä¸è¨ˆç®—
    </title>
    <meta
      name="description"
      content="æ—¥æœ¬ã®çµ¦ä¸ã®æ‰‹å–ã‚Šé¡ã‚’ç´ æ—©ãæ­£ç¢ºã«è¨ˆç®—ã—ã¾ã™ã€‚æ‰€å¾—ç¨ã€ä½æ°‘ç¨ã€ç¤¾ä¼šä¿é™ºæ–™ã‚’è‡ªå‹•åæ˜ ã€‚çµ¦ä¸æ‰€å¾—è€…ãƒ»äº‹æ¥­æ‰€å¾—è€…å¯¾å¿œã€‚å†è¨ˆç®—ã«ä¾¿åˆ©ãªå…¥åŠ›å€¤ä¿å­˜æ©Ÿèƒ½ä»˜ãã€‚"
    />
    <meta
      name="keywords"
      content="æ‰‹å–ã‚Šè¨ˆç®—, æ—¥æœ¬æ‰‹å–ã‚Š, æ—¥æœ¬çµ¦ä¸, æ—¥æœ¬ç¨é‡‘, æ—¥æœ¬æ‰€å¾—ç¨, æ—¥æœ¬ä½æ°‘ç¨, æ—¥æœ¬ç¤¾ä¼šä¿é™º, æ—¥æœ¬æ‰‹å–ã‚Šè¨ˆç®—, æ—¥æœ¬çµ¦ä¸è¨ˆç®—æ©Ÿ, å€‹äººäº‹æ¥­ä¸», è‡ªå–¶æ¥­, å›½æ°‘å¥åº·ä¿é™º, å›½æ°‘å¹´é‡‘, Japanese net salary, Japan tax calculation"
    />
    <meta name="author" content="Your Name/Service Name" />
    <link rel="canonical" href="https://jpnincome.netlify.app/" />

    <!-- Favicon -->
    <link
      rel="icon"
      href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcgMkgxN0MxOC42NTY5IDIgMjAgMy4zNDMxNSAyMCA1VjE5QzIwIDIwLjY1NjkgMTguNjU2OSAyMiAxNyAyMkg3QzUuMzQzMTUgMjIgNCAyMC42NTY5IDQgMTlWNUM0IDMuMzQzMTUgNS4zNDMxNSAyIDcgMloiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGgGQIJMOCAxMEg4LjAxIiBzdHJva2U9IiMzMzMiIH50cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9IkMxMiAxMEgxMi4wMSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNiAxMEgxNi4wMSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxwYXRoIGQ9Ik04IDE0SDA4LjAxIiBzdHJva2U9IiMzMzMiIH50cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMiAxNEgxMi4wMSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNiAxNEgxNi4wMSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxwYXRoIGQ9Ik04IDE4SDA4LjAxIiBzdHJva2U9IiMzMzMiIH50cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRo IGQ9IkMxMiAxOEgxMi4wMSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNiAxOEgxNi4wMSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjwvZ3N2Pg=="
    />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap");
      body {
        font-family: "Inter", sans-serif;
        background-color: #f8f8f8; /* Light gray background */
        color: #333;
        line-height: 1.6;
      }
      .container {
        max-width: 800px;
      }
      input[type="number"]::-webkit-outer-spin-button,
      input[type="number"]::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      input[type="number"] {
        -moz-appearance: textfield; /* Firefox */
      }

      /* Material 3 Expressive adjustments */
      .rounded-expressive {
        border-radius: 1.5rem; /* More rounded corners */
      }
      .shadow-expressive {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Slightly deeper shadow */
      }
      .input-expressive {
        transition: all 0.2s ease-in-out;
      }
      .input-expressive:focus {
        outline: none;
        border-color: #3b82f6; /* Blue-500 */
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3); /* Focus ring */
      }
    </style>
  </head>
  <body class="p-4 sm:p-6 md:p-8 flex flex-col items-center min-h-screen">
    <header class="w-full text-center py-6">
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-800 mb-2">
        <span class="text-blue-600" data-lang-key="header.japan">æ—¥æœ¬</span>
        <span data-lang-key="header.title">æ‰‹å–ã‚Šè¨ˆç®—æ©Ÿ</span>
      </h1>
      <p
        class="text-md sm:text-lg text-gray-600"
        data-lang-key="header.description"
      >
        ã‚ãªãŸã®çµ¦ä¸ã€å®Ÿéš›ã«ã„ãã‚‰æ‰‹å…ƒã«æ®‹ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿä»Šã™ãç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚
      </p>
    </header>

    <main
      class="w-full container bg-white p-6 sm:p-8 md:p-10 rounded-expressive shadow-expressive mb-8"
    >
      <!-- Language Selector -->
      <div class="mb-6 flex justify-end">
        <select
          id="languageSelect"
          class="p-2 border border-gray-300 rounded-md"
        >
          <option value="ja">æ—¥æœ¬èª</option>
          <option value="ko">í•œêµ­ì–´</option>
          <option value="en">English</option>
        </select>
      </div>

      <!-- Income Type Selector -->
      <div class="mb-6">
        <label
          for="incomeType"
          class="block text-gray-700 text-lg sm:text-xl font-semibold mb-2"
          data-lang-key="incomeType.label"
        >
          æ‰€å¾—ã®ç¨®é¡
        </label>
        <select
          id="incomeType"
          class="w-full p-3 sm:p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-lg sm:text-xl input-expressive"
        >
          <option value="employee" data-lang-key="incomeType.employee">
            çµ¦ä¸æ‰€å¾—è€…
          </option>
          <option
            value="self_employed"
            data-lang-key="incomeType.self_employed"
          >
            äº‹æ¥­æ‰€å¾—è€…ï¼ˆå€‹äººäº‹æ¥­ä¸»ï¼‰
          </option>
        </select>
      </div>

      <div class="mb-6">
        <label
          for="grossSalary"
          class="block text-gray-700 text-lg sm:text-xl font-semibold mb-2"
        >
          <span id="grossSalaryLabel" data-lang-key="grossSalary.label.employee"
            >é¡é¢çµ¦ä¸ï¼ˆæœˆé¡ï¼‰</span
          >
          <span class="text-gray-500 text-sm">ï¼ˆå††ï¼‰</span>
        </label>
        <input
          type="number"
          id="grossSalary"
          class="w-full p-3 sm:p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-lg sm:text-xl input-expressive"
          placeholder="ä¾‹: 300000"
          min="0"
        />
      </div>

      <!-- Necessary Expenses (for Self-Employed) -->
      <div id="necessaryExpensesGroup" class="mb-6 hidden">
        <label
          for="necessaryExpenses"
          class="block text-gray-700 text-lg sm:text-xl font-semibold mb-2"
          data-lang-key="necessaryExpenses.label"
        >
          å¿…è¦çµŒè²»ï¼ˆæœˆé¡ï¼‰ <span class="text-gray-500 text-sm">ï¼ˆå††ï¼‰</span>
        </label>
        <input
          type="number"
          id="necessaryExpenses"
          class="w-full p-3 sm:p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-lg sm:text-xl input-expressive"
          placeholder="ä¾‹: 50000"
          min="0"
        />
        <p
          class="text-sm text-gray-500 mt-1"
          data-lang-key="necessaryExpenses.description"
        >
          å£²ä¸Šã‹ã‚‰å·®ã—å¼•ã‹ã‚Œã‚‹çµŒè²»ã®æœˆé¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
        </p>
      </div>

      <div class="mb-8">
        <label
          for="age"
          class="block text-gray-700 text-lg sm:text-xl font-semibold mb-2"
          data-lang-key="age.label"
        >
          å¹´é½¢ <span class="text-gray-500 text-sm">ï¼ˆæº€å¹´é½¢ï¼‰</span>
        </label>
        <input
          type="number"
          id="age"
          class="w-full p-3 sm:p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-lg sm:text-xl input-expressive"
          placeholder="ä¾‹: 30"
          min="0"
          max="120"
        />
        <p class="text-sm text-gray-500 mt-1" data-lang-key="age.description">
          æº€40æ­³ä»¥ä¸Šã®å ´åˆã€ä»‹è­·ä¿é™ºæ–™ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚ï¼ˆå›½æ°‘å¥åº·ä¿é™ºã«ã‚‚é©ç”¨ï¼‰
        </p>
      </div>

      <!-- Calculation Results -->
      <div
        id="results"
        class="bg-blue-50 p-6 rounded-expressive border border-blue-200 shadow-sm"
      >
        <h2
          class="text-2xl sm:text-3xl font-bold text-blue-800 mb-4"
          data-lang-key="results.title"
        >
          è¨ˆç®—çµæœ
        </h2>
        <div class="text-lg sm:text-xl mb-3">
          <span
            class="font-semibold text-gray-700"
            data-lang-key="results.netSalary"
            >æ‰‹å–ã‚Šé¡ï¼ˆæœˆé¡ï¼‰ï¼š</span
          >
          <span id="netSalary" class="font-bold text-green-700 ml-2">0 å††</span>
        </div>
        <div class="border-t border-blue-200 pt-4 mt-4">
          <h3
            class="text-xl sm:text-2xl font-semibold text-blue-700 mb-3"
            data-lang-key="results.deductionsDetail"
          >
            æ§é™¤é¡è©³ç´°
          </h3>
          <ul class="space-y-2 text-md sm:text-lg" id="deductionsList">
            <!-- Dynamic content will be inserted here by JavaScript -->
          </ul>
          <div class="mt-4">
            <span
              class="font-semibold text-gray-700"
              data-lang-key="results.totalDeductions"
              >æ§é™¤åˆè¨ˆé¡ï¼š</span
            >
            <span id="totalDeductions" class="font-bold text-red-600 ml-2"
              >0 å††</span
            >
          </div>
        </div>
      </div>

      <div
        class="mt-8 p-4 bg-yellow-50 rounded-lg border border-yellow-200 text-yellow-800 text-sm sm:text-base"
      >
        <p class="font-semibold mb-2" data-lang-key="disclaimer.important">
          ğŸ’¡ é‡è¦ãªãŠçŸ¥ã‚‰ã›ï¼š
        </p>
        <p data-lang-key="disclaimer.content">
          ã“ã®è¨ˆç®—æ©Ÿã¯ã€ä¸€èˆ¬çš„ãªæ‰€å¾—ç¨ç‡ã€ç¤¾ä¼šä¿é™ºæ–™ç‡ã€ãŠã‚ˆã³æ¨™æº–çš„ãªæ§é™¤é¡ã«åŸºã¥ã„ã¦**æ¨å®šå€¤**ã‚’æä¾›ã—ã¾ã™ã€‚
          å®Ÿéš›ã®ç¨é‡‘ãŠã‚ˆã³ç¤¾ä¼šä¿é™ºæ–™ã¯ã€ãŠä½ã¾ã„ã®åœ°åŸŸã€å®¶æ—æ§‹æˆã€è¿½åŠ æ§é™¤ã®æœ‰ç„¡ã€å‰å¹´åº¦ã®æ‰€å¾—ãªã©ã€æ§˜ã€…ãªè¦å› ã«ã‚ˆã£ã¦å¤‰å‹•ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
          ç‰¹ã«å›½æ°‘å¥åº·ä¿é™ºæ–™ã¯å¸‚åŒºç”ºæ‘ã«ã‚ˆã£ã¦å¤§ããç•°ãªã‚Šã¾ã™ã€‚
          æ­£ç¢ºãªè¨ˆç®—ã«ã¤ã„ã¦ã¯ã€å°‚é–€å®¶ã«ã”ç›¸è«‡ã„ãŸã ãã‹ã€å…¬å¼ã®çµ¦ä¸æ˜ç´°ã‚„ç¢ºå®šç”³å‘Šæ›¸ã‚’ã”å‚ç…§ãã ã•ã„ã€‚
        </p>
      </div>
    </main>

    <footer class="w-full text-center py-6 text-gray-500 text-sm">
      <p>&copy; 2025 Japan Net Salary Calculator. All rights reserved.</p>
      <p data-lang-key="footer.disclaimer">
        æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã¯æƒ…å ±æä¾›ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€æ³•çš„ã¾ãŸã¯è²¡å‹™çš„ãªåŠ©è¨€ã«ä»£ã‚ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
      </p>
    </footer>

    <script>
      // Get DOM elements
      const languageSelect = document.getElementById("languageSelect");
      const incomeTypeSelect = document.getElementById("incomeType");
      const grossSalaryInput = document.getElementById("grossSalary");
      const grossSalaryLabel = document.getElementById("grossSalaryLabel");
      const necessaryExpensesGroup = document.getElementById(
        "necessaryExpensesGroup"
      );
      const necessaryExpensesInput =
        document.getElementById("necessaryExpenses");
      const ageInput = document.getElementById("age");
      const netSalarySpan = document.getElementById("netSalary");
      const totalDeductionsSpan = document.getElementById("totalDeductions");
      const deductionsList = document.getElementById("deductionsList");

      // Translation data for multiple languages
      const translations = {
        ja: {
          title: "æ—¥æœ¬ã®æ‰‹å–ã‚Šè¨ˆç®—æ©Ÿ | æ—¥æœ¬ã®ç¨é‡‘è¨ˆç®— | æ—¥æœ¬ã®çµ¦ä¸è¨ˆç®—",
          "header.japan": "æ—¥æœ¬",
          "header.title": "æ‰‹å–ã‚Šè¨ˆç®—æ©Ÿ",
          "header.description":
            "ã‚ãªãŸã®çµ¦ä¸ã€å®Ÿéš›ã«ã„ãã‚‰æ‰‹å…ƒã«æ®‹ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿä»Šã™ãç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚",
          "incomeType.label": "æ‰€å¾—ã®ç¨®é¡",
          "incomeType.employee": "çµ¦ä¸æ‰€å¾—è€…",
          "incomeType.self_employed": "äº‹æ¥­æ‰€å¾—è€…ï¼ˆå€‹äººäº‹æ¥­ä¸»ï¼‰",
          "grossSalary.label.employee": "é¡é¢çµ¦ä¸ï¼ˆæœˆé¡ï¼‰",
          "grossSalary.label.self_employed": "å£²ä¸Šï¼ˆæœˆé¡ï¼‰",
          "necessaryExpenses.label": "å¿…è¦çµŒè²»ï¼ˆæœˆé¡ï¼‰",
          "necessaryExpenses.description":
            "å£²ä¸Šã‹ã‚‰å·®ã—å¼•ã‹ã‚Œã‚‹çµŒè²»ã®æœˆé¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚",
          "age.label": "å¹´é½¢",
          "age.description":
            "æº€40æ­³ä»¥ä¸Šã®å ´åˆã€ä»‹è­·ä¿é™ºæ–™ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚ï¼ˆå›½æ°‘å¥åº·ä¿é™ºã«ã‚‚é©ç”¨ï¼‰",
          "results.title": "è¨ˆç®—çµæœ",
          "results.netSalary": "æ‰‹å–ã‚Šé¡ï¼ˆæœˆé¡ï¼‰ï¼š",
          "results.deductionsDetail": "æ§é™¤é¡è©³ç´°",
          "deductions.socialInsuranceTotal": "ç¤¾ä¼šä¿é™ºæ–™åˆè¨ˆï¼š",
          "deductions.healthInsurance": "ãƒ» å¥åº·ä¿é™ºæ–™ï¼š",
          "deductions.pensionInsurance": "ãƒ» åšç”Ÿå¹´é‡‘ä¿é™ºæ–™ï¼š",
          "deductions.employmentInsurance": "ãƒ» é›‡ç”¨ä¿é™ºæ–™ï¼š",
          "deductions.longTermCareInsurance": "ãƒ» ä»‹è­·ä¿é™ºæ–™ï¼ˆæº€40æ­³ä»¥ä¸Šï¼‰ï¼š",
          "deductions.nationalHealthInsurance": "ãƒ» å›½æ°‘å¥åº·ä¿é™ºæ–™ï¼š",
          "deductions.nationalPension": "ãƒ» å›½æ°‘å¹´é‡‘ä¿é™ºæ–™ï¼š",
          "deductions.incomeTax": "æ‰€å¾—ç¨ï¼ˆæœˆé¡ï¼‰ï¼š",
          "deductions.residentTax": "ä½æ°‘ç¨ï¼ˆæœˆé¡ï¼‰ï¼š",
          "results.totalDeductions": "æ§é™¤åˆè¨ˆé¡ï¼š",
          "disclaimer.important": "ğŸ’¡ é‡è¦ãªãŠçŸ¥ã‚‰ã›ï¼š",
          "disclaimer.content":
            "ã“ã®è¨ˆç®—æ©Ÿã¯ã€ä¸€èˆ¬çš„ãªæ‰€å¾—ç¨ç‡ã€ç¤¾ä¼šä¿é™ºæ–™ç‡ã€ãŠã‚ˆã³æ¨™æº–çš„ãªæ§é™¤é¡ã«åŸºã¥ã„ã¦**æ¨å®šå€¤**ã‚’æä¾›ã—ã¾ã™ã€‚å®Ÿéš›ã®ç¨é‡‘ãŠã‚ˆã³ç¤¾ä¼šä¿é™ºæ–™ã¯ã€ãŠä½ã¾ã„ã®åœ°åŸŸã€å®¶æ—æ§‹æˆã€è¿½åŠ æ§é™¤ã®æœ‰ç„¡ã€å‰å¹´åº¦ã®æ‰€å¾—ãªã©ã€æ§˜ã€…ãªè¦å› ã«ã‚ˆã£ã¦å¤‰å‹•ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã«å›½æ°‘å¥åº·ä¿é™ºæ–™ã¯å¸‚åŒºç”ºæ‘ã«ã‚ˆã£ã¦å¤§ããç•°ãªã‚Šã¾ã™ã€‚æ­£ç¢ºãªè¨ˆç®—ã«ã¤ã„ã¦ã¯ã€å°‚é–€å®¶ã«ã”ç›¸è«‡ã„ãŸã ãã‹ã€å…¬å¼ã®çµ¦ä¸æ˜ç´°ã‚„ç¢ºå®šç”³å‘Šæ›¸ã‚’ã”å‚ç…§ãã ã•ã„ã€‚",
          "footer.disclaimer":
            "æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã¯æƒ…å ±æä¾›ã‚’ç›®çš„ã¨ã—ã¦ãŠã‚Šã€æ³•çš„ã¾ãŸã¯è²¡å‹™çš„ãªåŠ©è¨€ã«ä»£ã‚ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚",
        },
        ko: {
          title: "ì¼ë³¸ ì‹¤ìˆ˜ë ¹ ê³„ì‚°ê¸° | ì¼ë³¸ ì„¸ê¸ˆ ê³„ì‚° | ì¼ë³¸ ì›”ê¸‰ ê³„ì‚°",
          "header.japan": "ì¼ë³¸",
          "header.title": "ì‹¤ìˆ˜ë ¹ ê³„ì‚°ê¸°",
          "header.description":
            "ë‹¹ì‹ ì˜ ì›”ê¸‰, ì‹¤ì œë¡œ ì–¼ë§ˆë¥¼ ë°›ê²Œ ë ê¹Œìš”? ì§€ê¸ˆ ë°”ë¡œ í™•ì¸í•´ë³´ì„¸ìš”.",
          "incomeType.label": "ì†Œë“ ì¢…ë¥˜",
          "incomeType.employee": "ê·¼ë¡œì†Œë“ì",
          "incomeType.self_employed": "ì‚¬ì—…ì†Œë“ì (ê°œì¸ì‚¬ì—…ì)",
          "grossSalary.label.employee": "ì„¸ì „ ê¸‰ì—¬ (ì›”)",
          "grossSalary.label.self_employed": "ë§¤ì¶œ (ì›”)",
          "necessaryExpenses.label": "í•„ìš” ê²½ë¹„ (ì›”)",
          "necessaryExpenses.description":
            "ë§¤ì¶œì—ì„œ ê³µì œë˜ëŠ” ê²½ë¹„ì˜ ì›”ë³„ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”.",
          "age.label": "ë‚˜ì´",
          "age.description":
            "ë§Œ 40ì„¸ ì´ìƒ ì‹œ ê°œí˜¸ë³´í—˜ë£Œê°€ ì ìš©ë©ë‹ˆë‹¤. (êµ­ë¯¼ê±´ê°•ë³´í—˜ì—ë„ ì ìš©)",
          "results.title": "ê³„ì‚° ê²°ê³¼",
          "results.netSalary": "ì‹¤ìˆ˜ë ¹ì•¡ (ì›”):",
          "results.deductionsDetail": "ê³µì œì•¡ ìƒì„¸",
          "deductions.socialInsuranceTotal": "ì‚¬íšŒë³´í—˜ë£Œ ì´ì•¡:",
          "deductions.healthInsurance": "ãƒ» ê±´ê°•ë³´í—˜ë£Œ:",
          "deductions.pensionInsurance": "ãƒ» í›„ìƒì—°ê¸ˆë³´í—˜ë£Œ:",
          "deductions.employmentInsurance": "ãƒ» ê³ ìš©ë³´í—˜ë£Œ:",
          "deductions.longTermCareInsurance": "ãƒ» ê°œí˜¸ë³´í—˜ë£Œ (ë§Œ 40ì„¸ ì´ìƒ):",
          "deductions.nationalHealthInsurance": "ãƒ» êµ­ë¯¼ê±´ê°•ë³´í—˜ë£Œ:",
          "deductions.nationalPension": "ãƒ» êµ­ë¯¼ì—°ê¸ˆë³´í—˜ë£Œ:",
          "deductions.incomeTax": "ì†Œë“ì„¸ (ì›”):",
          "deductions.residentTax": "ì£¼ë¯¼ì„¸ (ì›”):",
          "results.totalDeductions": "ì´ ê³µì œì•¡:",
          "disclaimer.important": "ğŸ’¡ ì¤‘ìš” ì•ˆë‚´:",
          "disclaimer.content":
            "ì´ ê³„ì‚°ê¸°ëŠ” ì¼ë°˜ì ì¸ ì†Œë“ì„¸ìœ¨, ì‚¬íšŒë³´í—˜ë£Œìœ¨, ê·¸ë¦¬ê³  í‘œì¤€ ê³µì œì•¡ì„ ê¸°ë°˜ìœ¼ë¡œ **ì¶”ì •ì¹˜**ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì‹¤ì œ ì„¸ê¸ˆ ë° ì‚¬íšŒë³´í—˜ë£ŒëŠ” ê±°ì£¼ ì§€ì—­, ê°€ì¡± êµ¬ì„±, ì¶”ê°€ ê³µì œ ì—¬ë¶€, ì „ë…„ë„ ì†Œë“ ë“± ë‹¤ì–‘í•œ ìš”ì¸ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ êµ­ë¯¼ê±´ê°•ë³´í—˜ë£ŒëŠ” ì‹œêµ¬ì •ì´Œì— ë”°ë¼ í¬ê²Œ ë‹¤ë¦…ë‹ˆë‹¤. ì •í™•í•œ ê³„ì‚°ì„ ìœ„í•´ì„œëŠ” ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì‹œê±°ë‚˜, ê³µì‹ ê¸‰ì—¬ëª…ì„¸ì„œ ë˜ëŠ” í™•ì •ì‹ ê³ ì„œë¥¼ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.",
          "footer.disclaimer":
            "ë³¸ ì„œë¹„ìŠ¤ëŠ” ì •ë³´ ì œê³µì„ ëª©ì ìœ¼ë¡œ í•˜ë©°, ë²•ì  ë˜ëŠ” ì¬ì •ì  ì¡°ì–¸ì„ ëŒ€ì²´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",
        },
        en: {
          title:
            "Japan Net Salary Calculator | Japan Tax Calculation | Japan Salary Calculation",
          "header.japan": "Japan",
          "header.title": "Net Salary Calculator",
          "header.description":
            "What will your Japanese salary actually be after deductions? Find out now.",
          "incomeType.label": "Income Type",
          "incomeType.employee": "Employee",
          "incomeType.self_employed": "Self-Employed (Sole Proprietor)",
          "grossSalary.label.employee": "Gross Salary (Monthly)",
          "grossSalary.label.self_employed": "Revenue (Monthly)",
          "necessaryExpenses.label": "Necessary Expenses (Monthly)",
          "necessaryExpenses.description":
            "Enter the monthly amount of expenses deducted from your revenue.",
          "age.label": "Age",
          "age.description":
            "Long-term care insurance applies if you are 40 years or older. (Also applies to National Health Insurance)",
          "results.title": "Calculation Results",
          "results.netSalary": "Net Salary (Monthly):",
          "results.deductionsDetail": "Deduction Details",
          "deductions.socialInsuranceTotal": "Total Social Insurance:",
          "deductions.healthInsurance": "ãƒ» Health Insurance:",
          "deductions.pensionInsurance": "ãƒ» Employees' Pension Insurance:",
          "deductions.employmentInsurance": "ãƒ» Employment Insurance:",
          "deductions.longTermCareInsurance":
            "ãƒ» Long-Term Care Insurance (40+):",
          "deductions.nationalHealthInsurance": "ãƒ» National Health Insurance:",
          "deductions.nationalPension": "ãƒ» National Pension:",
          "deductions.incomeTax": "Income Tax (Monthly):",
          "deductions.residentTax": "Resident Tax (Monthly):",
          "results.totalDeductions": "Total Deductions:",
          "disclaimer.important": "ğŸ’¡ Important Notice:",
          "disclaimer.content":
            "This calculator provides an **estimation** based on general income tax rates, social insurance rates, and standard deductions. Actual taxes and social insurance premiums can vary due to various factors such as your residential area, family structure, additional deductions, and previous year's income. National Health Insurance premiums, in particular, vary significantly by municipality. For accurate calculations, please consult a professional or refer to your official payslip or tax return documents.",
          "footer.disclaimer":
            "This service is for informational purposes only and does not constitute legal or financial advice.",
        },
      };

      let currentLang = "ja"; // Default language

      // Function to update text content based on selected language
      function applyLanguage(lang) {
        currentLang = lang;
        document.querySelectorAll("[data-lang-key]").forEach((element) => {
          const key = element.getAttribute("data-lang-key");
          if (translations[lang] && translations[lang][key]) {
            // For title tag, directly set textContent. For other elements, set data-lang-key first.
            if (element.tagName === "TITLE") {
              element.textContent = translations[lang][key];
            } else if (element.tagName === "OPTION") {
              element.textContent = translations[lang][key];
            } else {
              element.textContent = translations[lang][key];
            }
          }
        });
        // Update specific labels that change based on income type
        updateGrossSalaryLabel();
        // Recalculate to update dynamic deduction list
        calculateNetSalary();
      }

      // Load values from local storage
      function loadFromLocalStorage() {
        const savedGrossSalary = localStorage.getItem("grossSalary");
        const savedAge = localStorage.getItem("age");
        const savedIncomeType = localStorage.getItem("incomeType");
        const savedNecessaryExpenses =
          localStorage.getItem("necessaryExpenses");
        const savedLang = localStorage.getItem("language");

        if (savedGrossSalary) {
          grossSalaryInput.value = savedGrossSalary;
        }
        if (savedAge) {
          ageInput.value = savedAge;
        }
        if (savedIncomeType) {
          incomeTypeSelect.value = savedIncomeType;
        }
        if (savedNecessaryExpenses) {
          necessaryExpensesInput.value = savedNecessaryExpenses;
        }
        if (savedLang) {
          languageSelect.value = savedLang;
          applyLanguage(savedLang); // Apply saved language
        } else {
          applyLanguage(currentLang); // Apply default language
        }

        updateIncomeTypeDisplay(); // Display correct fields based on loaded income type
        calculateNetSalary(); // Execute calculation after loading
      }

      // Save values to local storage
      function saveToLocalStorage() {
        localStorage.setItem("grossSalary", grossSalaryInput.value);
        localStorage.setItem("age", ageInput.value);
        localStorage.setItem("incomeType", incomeTypeSelect.value);
        localStorage.setItem("necessaryExpenses", necessaryExpensesInput.value);
        localStorage.setItem("language", languageSelect.value);
      }

      // Update gross salary label text based on income type
      function updateGrossSalaryLabel() {
        const selectedIncomeType = incomeTypeSelect.value;
        if (selectedIncomeType === "employee") {
          grossSalaryLabel.textContent =
            translations[currentLang]["grossSalary.label.employee"];
        } else {
          // self_employed
          grossSalaryLabel.textContent =
            translations[currentLang]["grossSalary.label.self_employed"];
        }
      }

      // Toggle necessary expenses input visibility
      function updateIncomeTypeDisplay() {
        const selectedIncomeType = incomeTypeSelect.value;
        if (selectedIncomeType === "self_employed") {
          necessaryExpensesGroup.classList.remove("hidden");
        } else {
          necessaryExpensesGroup.classList.add("hidden");
          necessaryExpensesInput.value = ""; // Clear expenses if switching to employee
        }
        updateGrossSalaryLabel(); // Update label when type changes
        calculateNetSalary(); // Recalculate when type changes
      }

      // Net salary calculation function
      function calculateNetSalary() {
        let grossIncome = parseFloat(grossSalaryInput.value) || 0; // Gross salary or revenue
        let age = parseInt(ageInput.value) || 0;
        const incomeType = incomeTypeSelect.value;
        let necessaryExpenses =
          incomeType === "self_employed"
            ? parseFloat(necessaryExpensesInput.value) || 0
            : 0;

        // Convert monthly to annual
        let annualGrossIncome = grossIncome * 12;
        let annualNecessaryExpenses = necessaryExpenses * 12;

        let totalDeductions = 0;
        let deductionDetailsHtml = "";

        // Taxable income for income tax and resident tax calculation
        let taxableIncomeForTax = 0;

        // Breakdown of deductions
        let healthInsurance = 0;
        let pensionInsurance = 0;
        let employmentInsurance = 0;
        let longTermCareInsurance = 0; // Long-term care insurance (for employees)
        let nationalHealthInsurance = 0; // National Health Insurance (for self-employed)
        let nationalPension = 0; // National Pension (for self-employed)
        let incomeTaxMonthly = 0;
        let residentTaxMonthly = 0;

        // Basic Deduction (Annual) - common for both employee and self-employed
        const BASIC_DEDUCTION_ANNUAL = 480000;

        if (incomeType === "employee") {
          // Employee calculation
          // 1. Social Insurance Calculation (Monthly basis)
          const HEALTH_INSURANCE_RATE = 0.05; // Health insurance rate (approximate employee share)
          const PENSION_INSURANCE_RATE = 0.0915; // Employees' Pension insurance rate (employee share, as of 2024)
          const EMPLOYMENT_INSURANCE_RATE = 0.003; // Employment insurance rate (employee share, as of 2024)
          const LONG_TERM_CARE_INSURANCE_RATE = 0.0082; // Long-term care insurance rate (as of 2024, 40 years or older)

          healthInsurance = Math.floor(grossIncome * HEALTH_INSURANCE_RATE);
          pensionInsurance = Math.floor(grossIncome * PENSION_INSURANCE_RATE);
          employmentInsurance = Math.floor(
            grossIncome * EMPLOYMENT_INSURANCE_RATE
          );

          if (age >= 40) {
            longTermCareInsurance = Math.floor(
              grossIncome * LONG_TERM_CARE_INSURANCE_RATE
            );
          }

          let socialInsuranceTotal =
            healthInsurance +
            pensionInsurance +
            employmentInsurance +
            longTermCareInsurance;
          totalDeductions += socialInsuranceTotal;

          // Taxable income considering employment income deduction
          // Simplified calculation of employment income deduction (actual deduction varies by salary)
          let salaryDeductionAnnual = 0;
          if (annualGrossIncome <= 1625000) salaryDeductionAnnual = 550000;
          else if (annualGrossIncome <= 1800000)
            salaryDeductionAnnual = annualGrossIncome * 0.4 - 100000;
          else if (annualGrossIncome <= 3600000)
            salaryDeductionAnnual = annualGrossIncome * 0.3 + 80000;
          else if (annualGrossIncome <= 6600000)
            salaryDeductionAnnual = annualGrossIncome * 0.2 + 440000;
          else if (annualGrossIncome <= 8500000)
            salaryDeductionAnnual = annualGrossIncome * 0.1 + 1100000;
          else salaryDeductionAnnual = 1950000; // Upper limit

          // Taxable income = Annual Gross Salary - Employment Income Deduction - Social Insurance Deduction - Basic Deduction
          taxableIncomeForTax =
            annualGrossIncome -
            salaryDeductionAnnual -
            socialInsuranceTotal * 12 -
            BASIC_DEDUCTION_ANNUAL;
          if (taxableIncomeForTax < 0) taxableIncomeForTax = 0;

          deductionDetailsHtml += `<li><span class="font-semibold text-gray-700">${
            translations[currentLang]["deductions.socialInsuranceTotal"]
          }</span> <span class="ml-2">${socialInsuranceTotal.toLocaleString(
            "ja-JP"
          )} å††</span></li>`;
          deductionDetailsHtml += `<li class="pl-4 text-gray-600"><span class="font-medium">${
            translations[currentLang]["deductions.healthInsurance"]
          }</span> <span class="ml-2">${healthInsurance.toLocaleString(
            "ja-JP"
          )} å††</span></li>`;
          deductionDetailsHtml += `<li class="pl-4 text-gray-600"><span class="font-medium">${
            translations[currentLang]["deductions.pensionInsurance"]
          }</span> <span class="ml-2">${pensionInsurance.toLocaleString(
            "ja-JP"
          )} å††</span></li>`;
          deductionDetailsHtml += `<li class="pl-4 text-gray-600"><span class="font-medium">${
            translations[currentLang]["deductions.employmentInsurance"]
          }</span> <span class="ml-2">${employmentInsurance.toLocaleString(
            "ja-JP"
          )} å††</span></li>`;
          if (age >= 40) {
            deductionDetailsHtml += `<li class="pl-4 text-gray-600"><span class="font-medium">${
              translations[currentLang]["deductions.longTermCareInsurance"]
            }</span> <span class="ml-2">${longTermCareInsurance.toLocaleString(
              "ja-JP"
            )} å††</span></li>`;
          }
        } else {
          // incomeType === 'self_employed'
          // Self-employed calculation
          // Taxable income = (Annual Revenue - Annual Necessary Expenses - Basic Deduction)
          taxableIncomeForTax =
            annualGrossIncome -
            annualNecessaryExpenses -
            BASIC_DEDUCTION_ANNUAL;
          if (taxableIncomeForTax < 0) taxableIncomeForTax = 0;

          // 1. National Pension Insurance (Monthly) - Fixed amount
          const NATIONAL_PENSION_MONTHLY = 16980; // As of 2024, may change
          nationalPension = NATIONAL_PENSION_MONTHLY;
          totalDeductions += nationalPension;

          // 2. National Health Insurance (Monthly) - Highly complex, simplified estimate used here
          // Income-based rates and flat fees vary significantly by municipality
          const NHI_INCOME_RATE_MEDICAL = 0.07; // Simplified rate for medical portion
          const NHI_INCOME_RATE_SUPPORT = 0.02; // Simplified rate for elder care support portion
          const NHI_INCOME_RATE_LTC = 0.0179; // Simplified rate for long-term care portion (40 years or older)
          const NHI_FLAT_ANNUAL = 50000; // Flat fee (annual, approximate) - Varies by household and number of people

          let annualNhiIncomeBased = Math.max(
            0,
            annualGrossIncome - annualNecessaryExpenses - BASIC_DEDUCTION_ANNUAL
          ); // Simplified income for NHI calculation

          let nhiMedical = Math.floor(
            annualNhiIncomeBased * NHI_INCOME_RATE_MEDICAL
          );
          let nhiSupport = Math.floor(
            annualNhiIncomeBased * NHI_INCOME_RATE_SUPPORT
          );
          let nhiLTC = 0;

          if (age >= 40) {
            nhiLTC = Math.floor(annualNhiIncomeBased * NHI_INCOME_RATE_LTC);
          }

          nationalHealthInsurance = Math.floor(
            (nhiMedical + nhiSupport + nhiLTC + NHI_FLAT_ANNUAL) / 12
          );
          totalDeductions += nationalHealthInsurance;

          deductionDetailsHtml += `<li><span class="font-semibold text-gray-700">${
            translations[currentLang]["deductions.nationalPension"]
          }</span> <span class="ml-2">${nationalPension.toLocaleString(
            "ja-JP"
          )} å††</span></li>`;
          deductionDetailsHtml += `<li><span class="font-semibold text-gray-700">${
            translations[currentLang]["deductions.nationalHealthInsurance"]
          }</span> <span class="ml-2">${nationalHealthInsurance.toLocaleString(
            "ja-JP"
          )} å††</span></li>`;
        }

        // Common tax calculation
        // 2. Income Tax Calculation (Monthly basis)
        let incomeTaxAnnual = 0;
        // Simplified Income Tax Rates (Progressive Tax)
        if (taxableIncomeForTax <= 1950000) {
          incomeTaxAnnual = taxableIncomeForTax * 0.05;
        } else if (taxableIncomeForTax <= 3300000) {
          incomeTaxAnnual = taxableIncomeForTax * 0.1 - 97500;
        } else if (taxableIncomeForTax <= 6950000) {
          incomeTaxAnnual = taxableIncomeForTax * 0.2 - 427500;
        } else if (taxableIncomeForTax <= 9000000) {
          incomeTaxAnnual = taxableIncomeForTax * 0.23 - 636000;
        } else if (taxableIncomeForTax <= 18000000) {
          incomeTaxAnnual = taxableIncomeForTax * 0.33 - 1536000;
        } else if (taxableIncomeForTax <= 40000000) {
          incomeTaxAnnual = taxableIncomeForTax * 0.4 - 2796000;
        } else {
          incomeTaxAnnual = taxableIncomeForTax * 0.45 - 4796000;
        }
        if (incomeTaxAnnual < 0) incomeTaxAnnual = 0;

        incomeTaxMonthly = Math.floor(incomeTaxAnnual / 12);
        totalDeductions += incomeTaxMonthly;

        // 3. Resident Tax Calculation (Monthly basis)
        // Resident tax is based on previous year's income, so this is a simplified calculation.
        // Approximately 10% of taxable income (Prefectural tax 4%, Municipal tax 6%) + Flat rate (approx. Â¥5,000/year)
        const RESIDENT_TAX_RATE = 0.1; // Resident tax rate (approximate)
        const RESIDENT_TAX_FLAT_ANNUAL = 5000; // Flat rate (annual)

        let residentTaxAnnual =
          taxableIncomeForTax * RESIDENT_TAX_RATE + RESIDENT_TAX_FLAT_ANNUAL;
        if (residentTaxAnnual < 0) residentTaxAnnual = 0;

        residentTaxMonthly = Math.floor(residentTaxAnnual / 12);
        totalDeductions += residentTaxMonthly;

        let netSalary = grossIncome - totalDeductions;
        if (netSalary < 0) netSalary = 0; // Prevent negative net salary

        // Update results
        netSalarySpan.textContent = netSalary.toLocaleString("ja-JP") + " å††";
        totalDeductionsSpan.textContent =
          totalDeductions.toLocaleString("ja-JP") + " å††";

        deductionDetailsHtml += `<li><span class="font-semibold text-gray-700">${
          translations[currentLang]["deductions.incomeTax"]
        }</span> <span class="ml-2">${incomeTaxMonthly.toLocaleString(
          "ja-JP"
        )} å††</span></li>`;
        deductionDetailsHtml += `<li><span class="font-semibold text-gray-700">${
          translations[currentLang]["deductions.residentTax"]
        }</span> <span class="ml-2">${residentTaxMonthly.toLocaleString(
          "ja-JP"
        )} å††</span></li>`;

        deductionsList.innerHTML = deductionDetailsHtml;

        saveToLocalStorage(); // Save to local storage after calculation
      }

      // Event Listeners
      languageSelect.addEventListener("change", (event) => {
        applyLanguage(event.target.value);
        saveToLocalStorage();
      });
      incomeTypeSelect.addEventListener("change", updateIncomeTypeDisplay);
      grossSalaryInput.addEventListener("input", calculateNetSalary);
      necessaryExpensesInput.addEventListener("input", calculateNetSalary);
      ageInput.addEventListener("input", calculateNetSalary);

      // On page load, load values from local storage and perform calculation/display
      window.addEventListener("load", loadFromLocalStorage);
    </script>
  </body>
</html>
